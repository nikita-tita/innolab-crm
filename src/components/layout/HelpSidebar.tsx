"use client"

import { X } from "lucide-react"
import { Button } from "@/components/ui/button"

interface HelpSidebarProps {
  isOpen: boolean
  onClose: () => void
  page: 'kanban' | 'ideas' | 'hypotheses' | 'experiments' | 'knowledge' | 'dashboard'
}

const HELP_CONTENT = {
  kanban: {
    title: "–ö–∞–Ω–±–∞–Ω-–¥–æ—Å–∫–∞",
    description: "–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞",
    sections: [
      {
        title: "–ö–æ–ª–æ–Ω–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞",
        items: [
          "üí° –ò–¥–µ–∏ ‚Äî –ë–∞–Ω–∫ –≤—Å–µ—Ö –ø–æ—Å—Ç—É–ø–∏–≤—à–∏—Ö –∏–¥–µ–π",
          "üî¨ –ì–∏–ø–æ—Ç–µ–∑–∞ L1 ‚Äî –ë–∞–∑–æ–≤–∞—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –≥–∏–ø–æ—Ç–µ–∑—ã",
          "üìö –ì–∏–ø–æ—Ç–µ–∑–∞ L2 ‚Äî –î–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–æ—Å–ª–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è",
          "‚öóÔ∏è –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç ‚Äî –ê–∫—Ç–∏–≤–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ",
          "üöÄ InLab ‚Äî –ì–æ—Ç–æ–≤—ã–µ –∫ –∑–∞–ø—É—Å–∫—É —Ä–µ—à–µ–Ω–∏—è",
          "üè¢ –ú2 ‚Äî –ü—Ä–æ–¥—É–∫—Ç–æ–≤–∞—è –ª–∏–Ω–µ–π–∫–∞ –∫–æ–º–ø–∞–Ω–∏–∏"
        ]
      },
      {
        title: "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏",
        items: [
          "–ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–π—Ç–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –º–µ–∂–¥—É –∫–æ–ª–æ–Ω–∫–∞–º–∏",
          "–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞",
          "–ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—ã–π –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –æ–¥–Ω–æ–π –∏–¥–µ–∏"
        ]
      }
    ]
  },
  ideas: {
    title: "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–¥–µ—è–º–∏",
    description: "–¶–µ–Ω—Ç—Ä —Å–±–æ—Ä–∞ –∏ –ø–µ—Ä–≤–∏—á–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∏–¥–µ–π",
    sections: [
      {
        title: "RICE-–ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è",
        items: [
          "Reach ‚Äî –æ—Ö–≤–∞—Ç –∞—É–¥–∏—Ç–æ—Ä–∏–∏",
          "Impact ‚Äî —Å–∏–ª–∞ –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏—è (1-3)",
          "Confidence ‚Äî —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ —É—Å–ø–µ—Ö–µ (%)",
          "Effort ‚Äî —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã (—á–µ–ª–æ–≤–µ–∫–æ-–º–µ—Å—è—Ü—ã)",
          "–ò—Ç–æ–≥–æ–≤—ã–π RICE = (R √ó I √ó C) / E"
        ]
      },
      {
        title: "–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª",
        items: [
          "NEW ‚Üí SCORED ‚Üí SELECTED ‚Üí IN_HYPOTHESIS ‚Üí COMPLETED"
        ]
      }
    ]
  },
  hypotheses: {
    title: "–†–∞–±–æ—Ç–∞ —Å –≥–∏–ø–æ—Ç–µ–∑–∞–º–∏",
    description: "–§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–π",
    sections: [
      {
        title: "–£—Ä–æ–≤–Ω–∏ –≥–∏–ø–æ—Ç–µ–∑",
        items: [
          "L1 ‚Äî –ë–∞–∑–æ–≤–∞—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è",
          "L2 ‚Äî –î–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–æ—Å–ª–µ desk research"
        ]
      },
      {
        title: "–°—Ç–∞—Ç—É—Å—ã",
        items: [
          "DRAFT ‚Äî –ß–µ—Ä–Ω–æ–≤–∏–∫",
          "RESEARCH ‚Äî –ü—Ä–æ–≤–æ–¥–∏—Ç—Å—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ",
          "READY_FOR_TESTING ‚Äî –ì–æ—Ç–æ–≤–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é",
          "VALIDATED ‚Äî –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞"
        ]
      }
    ]
  },
  experiments: {
    title: "–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤",
    description: "–ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≥–∏–ø–æ—Ç–µ–∑",
    sections: [
      {
        title: "–¢–∏–ø—ã —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤",
        items: [
          "A/B —Ç–µ—Å—Ç—ã ‚Äî –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤",
          "MVP ‚Äî –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∂–∏–∑–Ω–µ—Å–ø–æ—Å–æ–±–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç",
          "–ò–Ω—Ç–µ—Ä–≤—å—é ‚Äî –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è",
          "–ü—Ä–æ—Ç–æ—Ç–∏–ø ‚Äî –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏"
        ]
      },
      {
        title: "–ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞",
        items: [
          "–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –∫–ª—é—á–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –¥–æ —Å—Ç–∞—Ä—Ç–∞",
          "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —É—Å–ø–µ—Ö–∞",
          "–§–∏–∫—Å–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏"
        ]
      }
    ]
  },
  knowledge: {
    title: "–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π",
    description: "–ù–∞–∫–æ–ø–ª–µ–Ω–Ω–∞—è —ç–∫—Å–ø–µ—Ä—Ç–∏–∑–∞ –∏ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏",
    sections: [
      {
        title: "–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–Ω–∞–Ω–∏–π",
        items: [
          "–ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞",
          "–®–∞–±–ª–æ–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤",
          "–ö–µ–π—Å—ã —É—Å–ø–µ—à–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤",
          "–û—à–∏–±–∫–∏ –∏ —É—Ä–æ–∫–∏"
        ]
      }
    ]
  },
  dashboard: {
    title: "–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞",
    description: "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞",
    sections: [
      {
        title: "–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏",
        items: [
          "–í–æ—Ä–æ–Ω–∫–∞ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –∏–¥–µ–π",
          "–°–∫–æ—Ä–æ—Å—Ç—å –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —ç—Ç–∞–ø–æ–≤",
          "ROI —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∏–Ω–Ω–æ–≤–∞—Ü–∏–π",
          "–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫–æ–º–∞–Ω–¥—ã"
        ]
      }
    ]
  }
}

export default function HelpSidebar({ isOpen, onClose, page }: HelpSidebarProps) {
  const content = HELP_CONTENT[page]

  if (!isOpen) return null

  return (
    <>
      {/* Overlay */}
      <div className="fixed inset-0 bg-black/20 z-50" onClick={onClose} />

      {/* Sidebar */}
      <div className="fixed right-0 top-0 h-full w-80 bg-white shadow-xl z-50 overflow-y-auto">
        <div className="p-6">
          {/* Header */}
          <div className="flex justify-between items-center mb-6">
            <h2 className="text-xl font-bold text-gray-900">
              {content.title}
            </h2>
            <Button variant="ghost" size="sm" onClick={onClose}>
              <X className="w-4 h-4" />
            </Button>
          </div>

          {/* Description */}
          <p className="text-gray-600 mb-6">
            {content.description}
          </p>

          {/* Sections */}
          <div className="space-y-6">
            {content.sections.map((section, index) => (
              <div key={index}>
                <h3 className="font-semibold text-gray-900 mb-3">
                  {section.title}
                </h3>
                <ul className="space-y-2">
                  {section.items.map((item, itemIndex) => (
                    <li key={itemIndex} className="text-sm text-gray-600 leading-relaxed">
                      {item}
                    </li>
                  ))}
                </ul>
              </div>
            ))}
          </div>

          {/* Footer */}
          <div className="mt-8 pt-6 border-t border-gray-200">
            <p className="text-xs text-gray-500">
              –ù—É–∂–Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–º–æ—â—å? –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É —Å–∏—Å—Ç–µ–º—ã.
            </p>
          </div>
        </div>
      </div>
    </>
  )
}